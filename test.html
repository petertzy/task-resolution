<style>
    /* Apply styles only to <pre> tags with the !overflow-visible class */
    pre {
    background-color: #f0f0f0; /* è®¾ç½®ç°è‰²èƒŒæ™¯ */
    padding: 20px; /* å†…è¾¹è·ï¼Œä½¿ä»£ç ä¸ç´§è´´è¾¹ç¼˜ */
    border-radius: 8px; /* åœ†è§’è¾¹æ¡† */
    font-family: 'Courier New', Courier, monospace; /* å­—ä½“æ ·å¼ */
    color: #333; /* æ–‡å­—é¢œè‰² */
    white-space: pre-wrap; /* ä¿è¯ç©ºæ ¼å’Œæ¢è¡Œä¸è¢«å¿½ç•¥ */
    overflow-x: auto; /* å¦‚æœå†…å®¹æº¢å‡ºåˆ™å¯ä»¥æ¨ªå‘æ»šåŠ¨ */
  }
  </style>
<div data-message-author-role="assistant" data-message-id="e4bfec4d-0240-465a-9d53-51acf31fc177" dir="auto" class="min-h-8 text-message relative flex w-full flex-col items-end gap-2 whitespace-normal break-words text-start [.text-message+&amp;]:mt-5" data-message-model-slug="gpt-4o-mini"><div class="flex w-full flex-col gap-1 empty:hidden first:pt-[3px]"><div class="markdown prose w-full break-words dark:prose-invert light"><h3 data-start="0" data-end="26">æ¼”ç¤ºæ–‡ç¨¿ï¼šå¦‚ä½•å°† Web åº”ç”¨è½¬æ¢ä¸º PWA</h3>
    <h4 data-start="28" data-end="64">1. æ·»åŠ  Web åº”ç”¨æ¸…å•ï¼ˆ<code data-start="48" data-end="63">manifest.json</code>ï¼‰</h4>
    <p data-start="65" data-end="119">è¦å°† Web åº”ç”¨è½¬å˜ä¸º PWAï¼Œä½ éœ€è¦ä¸€ä¸ª <code data-start="88" data-end="103">manifest.json</code> æ–‡ä»¶ï¼Œå®ƒæä¾›äº†åº”ç”¨çš„åŸºæœ¬ä¿¡æ¯ã€‚</p>
    <p data-start="121" data-end="151">ğŸ“Œ <strong data-start="124" data-end="149">æ·»åŠ  <code data-start="129" data-end="144">manifest.json</code> æ–‡ä»¶</strong></p>
    <pre class="!overflow-visible" data-start="152" data-end="560"><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre language-json"><span><span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"My PWA App"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"short_name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"PWA App"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"start_url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/index.html"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"display"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"standalone"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"background_color"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"#ffffff"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"theme_color"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"#000000"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"icons"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"src"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icons/icon-192x192.png"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"sizes"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"192x192"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"image/png"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"src"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icons/icon-512x512.png"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"sizes"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"512x512"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"image/png"</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
    </span></code></div></pre>
    <p data-start="562" data-end="597">ğŸ“Œ <strong data-start="565" data-end="597">åœ¨ HTML æ–‡ä»¶ä¸­å¼•ç”¨ <code data-start="580" data-end="595">manifest.json</code></strong></p>
    <pre class="!overflow-visible" data-start="598" data-end="653"><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre language-html"><span><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"manifest"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/manifest.json"</span>&gt;</span>
    </span></code></div></pre>
    <h4 data-start="655" data-end="688">2. æ³¨å†Œ Service Worker ä»¥æ”¯æŒç¦»çº¿åŠŸèƒ½</h4>
    <p data-start="689" data-end="726">PWA éœ€è¦ä¸€ä¸ª Service Worker æ¥ç¼“å­˜èµ„æºå¹¶å®ç°ç¦»çº¿åŠŸèƒ½ã€‚</p>
    <p data-start="728" data-end="760">ğŸ“Œ <strong data-start="731" data-end="760">åˆ›å»º <code data-start="736" data-end="755">service-worker.js</code> æ–‡ä»¶</strong></p>
    <pre class="!overflow-visible" data-start="761" data-end="1233"><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre language-javascript"><span><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">CACHE_NAME</span> = <span class="hljs-string">"pwa-cache-v1"</span>;
    <span class="hljs-keyword">const</span> urlsToCache = [
      <span class="hljs-string">"/"</span>,
      <span class="hljs-string">"/index.html"</span>,
      <span class="hljs-string">"/styles.css"</span>,
      <span class="hljs-string">"/app.js"</span>
    ];
    
    self.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"install"</span>, <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
      event.<span class="hljs-title function_">waitUntil</span>(
        caches.<span class="hljs-title function_">open</span>(<span class="hljs-variable constant_">CACHE_NAME</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">cache</span> =&gt;</span> {
          <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">addAll</span>(urlsToCache);
        })
      );
    });
    
    self.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"fetch"</span>, <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
      event.<span class="hljs-title function_">respondWith</span>(
        caches.<span class="hljs-title function_">match</span>(event.<span class="hljs-property">request</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
          <span class="hljs-keyword">return</span> response || <span class="hljs-title function_">fetch</span>(event.<span class="hljs-property">request</span>);
        })
      );
    });
    </span></code></div></pre>
    <p data-start="1235" data-end="1290">ğŸ“Œ <strong data-start="1238" data-end="1290">åœ¨åº”ç”¨å…¥å£æ–‡ä»¶ï¼ˆ<code data-start="1248" data-end="1258">index.js</code> æˆ– <code data-start="1261" data-end="1269">app.js</code>ï¼‰ä¸­æ³¨å†Œ Service Worker</strong></p>
    <pre class="!overflow-visible" data-start="1291" data-end="1637"><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre language-javascript"><span><span class="hljs-keyword">if</span> (<span class="hljs-string">'serviceWorker'</span> <span class="hljs-keyword">in</span> navigator) {
      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'load'</span>, <span class="hljs-function">() =&gt;</span> {
        navigator.<span class="hljs-property">serviceWorker</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">'/service-worker.js'</span>)
          .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">registration</span> =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Service Worker æ³¨å†ŒæˆåŠŸ:"</span>, registration);
          })
          .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Service Worker æ³¨å†Œå¤±è´¥:"</span>, error);
          });
      });
    }
    </span></code></div></pre>
    <h4 data-start="1639" data-end="1659">3. ç¡®ä¿åº”ç”¨æ”¯æŒ HTTPS</h4>
    <p data-start="1660" data-end="1762">ğŸ“Œ <strong data-start="1663" data-end="1679">ä¸ºä»€ä¹ˆéœ€è¦ HTTPSï¼Ÿ</strong>
    PWA éœ€è¦åœ¨å®‰å…¨ç¯å¢ƒï¼ˆHTTPSï¼‰ä¸‹è¿è¡Œæ‰èƒ½å¯ç”¨ Service Workerã€‚è™½ç„¶å¯ä»¥åœ¨æœ¬åœ°å¼€å‘æ—¶ä½¿ç”¨ <code data-start="1734" data-end="1745">localhost</code>ï¼Œä½†çº¿ä¸Šç‰ˆæœ¬å¿…é¡»ä½¿ç”¨ HTTPSã€‚</p>
    <p data-start="1764" data-end="1825">éƒ¨ç½²æ—¶å¯ä»¥ä½¿ç”¨ Cloudflareã€Netlifyã€Vercel æˆ– GitHub Pagesï¼Œå®ƒä»¬éƒ½æ”¯æŒ HTTPSã€‚</p>
    <h4 data-start="1827" data-end="1861">4. æ·»åŠ  "Add to Home Screen" æç¤º</h4>
    <p data-start="1862" data-end="1895">æµè§ˆå™¨ä¼šé»˜è®¤æ£€æµ‹ PWA å¹¶æç¤ºç”¨æˆ·å®‰è£…ï¼Œä½†ä¹Ÿå¯ä»¥æ‰‹åŠ¨è§¦å‘è¯¥æç¤ºã€‚</p>
    <p data-start="1897" data-end="1931">ğŸ“Œ <strong data-start="1900" data-end="1931">ç›‘å¬ <code data-start="1905" data-end="1926">beforeinstallprompt</code> äº‹ä»¶</strong></p>
    <pre class="!overflow-visible" data-start="1932" data-end="2502"><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre language-javascript"><span><span class="hljs-keyword">let</span> deferredPrompt;
    
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'beforeinstallprompt'</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
      event.<span class="hljs-title function_">preventDefault</span>();
      deferredPrompt = event;
    
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"install-button"</span>).<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">"block"</span>;
    
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"install-button"</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"click"</span>, <span class="hljs-function">() =&gt;</span> {
        deferredPrompt.<span class="hljs-title function_">prompt</span>();
        deferredPrompt.<span class="hljs-property">userChoice</span>.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">choiceResult</span> =&gt;</span> {
          <span class="hljs-keyword">if</span> (choiceResult.<span class="hljs-property">outcome</span> === <span class="hljs-string">'accepted'</span>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç”¨æˆ·æ¥å—å®‰è£… PWA'</span>);
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç”¨æˆ·æ‹’ç»å®‰è£… PWA'</span>);
          }
          deferredPrompt = <span class="hljs-literal">null</span>;
        });
      });
    });
    </span></code></div></pre>
    <p data-start="2504" data-end="2523">ğŸ“Œ <strong data-start="2507" data-end="2523">æ·»åŠ å®‰è£…æŒ‰é’®ï¼ˆHTMLï¼‰</strong></p>
    <pre class="!overflow-visible" data-start="2524" data-end="2602"><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre language-html"><span><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"install-button"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"display: none;"</span>&gt;</span>å®‰è£… PWA<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    </span></code></div></pre>
    <h4 data-start="2604" data-end="2625">5. æµ‹è¯• PWA æ˜¯å¦æ­£å¸¸å·¥ä½œ</h4>
    <p data-start="2626" data-end="2654">ğŸ“Œ <strong data-start="2629" data-end="2654">åœ¨ Chrome DevTools ä¸­æµ‹è¯•</strong></p>
    <ol data-start="2655" data-end="2859">
    <li data-start="2655" data-end="2694">æ‰“å¼€ Chrome å¼€å‘è€…å·¥å…·ï¼ˆF12 æˆ– Ctrl+Shift+Iï¼‰ã€‚</li>
    <li data-start="2695" data-end="2725">è¿›å…¥ <strong data-start="2701" data-end="2720">åº”ç”¨ï¼ˆApplicationï¼‰</strong> é€‰é¡¹å¡ã€‚</li>
    <li data-start="2726" data-end="2773">åœ¨ <strong data-start="2731" data-end="2743">Manifest</strong> é€‰é¡¹ä¸­æ£€æŸ¥ <code data-start="2750" data-end="2765">manifest.json</code> æ˜¯å¦æ­£ç¡®åŠ è½½ã€‚</li>
    <li data-start="2774" data-end="2832">åœ¨ <strong data-start="2779" data-end="2798">Service Workers</strong> é€‰é¡¹ä¸­æ£€æŸ¥ <code data-start="2805" data-end="2824">service-worker.js</code> æ˜¯å¦æ­£ç¡®æ³¨å†Œã€‚</li>
    <li data-start="2833" data-end="2859">æ–­å¼€ç½‘ç»œè¿æ¥ï¼Œå°è¯•é‡æ–°åŠ è½½é¡µé¢ï¼Œæµ‹è¯•ç¦»çº¿åŠŸèƒ½ã€‚</li>
    </ol>
    <h3 data-start="2861" data-end="2867">æ€»ç»“</h3>
    <p data-start="2868" data-end="3007" data-is-last-node="" data-is-only-node="">âœ… æ·»åŠ  <code data-start="2873" data-end="2888">manifest.json</code> ä»¥å®šä¹‰ PWA<br data-start="2896" data-end="2899">
    âœ… æ³¨å†Œ <code data-start="2904" data-end="2923">service-worker.js</code> ä»¥å®ç°ç¦»çº¿æ”¯æŒ<br data-start="2931" data-end="2934">
    âœ… ç¡®ä¿ç½‘ç«™ä½¿ç”¨ HTTPS<br data-start="2948" data-end="2951">
    âœ… å®ç° "Add to Home Screen" æç¤º<br data-start="2979" data-end="2982">
    âœ… åœ¨ Chrome DevTools ä¸­è¿›è¡Œæµ‹è¯•</p></div></div></div>